<div class="project_show">

  <div class="project-show-main">
    <%= link_to root_path do %>
      <i class="fa-solid fa-arrow-left fa-lg"></i>
    <% end %>
    <h1 class="project-show-title"><%= @project.title %></h1>
  </div>
  <div class="project-show-desc">
    <p><%= @project.description %></p>
    <p class="p-show-desc-del"><%= link_to "Delete project", project_path(@project), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, class: "text-danger" %></p>
  </div>

  <h2>Goals:</h2>
  <% @project.goals.each do |goal| %>
    <input type="checkbox" <%= goal.status ? "checked" : "" %>/>
    <p class="p-show-end-date"><%= goal.end_date %></p>
    <%= link_to project_goal_path(@project, goal)	do %>
      <div class="p-show-goals">
        <div class="p-show-goal-box">
          <p style="color: white;"><%= goal.title %></p>
          <p style="color: white;"><%= goal.description %></p>
          <p class="p-show-goal-del" style="color: white;"><%= link_to "Delete goal", goal_path(goal), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, class: "text-dark text-decoration-none" %></p>
        </div>
      </div>
    <% end %>
  <% end %>

  <!--MODAL CREATE-->
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-link b-create-goal" data-toggle="modal" data-target="#exampleModalLong">
    Create Goals
  </button>
  <!-- Modal -->
  <div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Create Goals</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <%= simple_form_for([@project, @goal]) do |f| %>
            <div class="form-group-goal" style="width:325px;">
              <%= f.label :title, "Title" %>
              <%= f.input :title %>
            </div>
            <div class="form-group-goal" style="width:325px">
              <%= f.input :description %>
            </div>
            <div class="form-group-goal" style="width:325px">
              <%= f.input :end_date, as: :date %>
            </div>
            <div class="button-new">
              <button type="button" class="btn btn-warning"><%= f.button :submit, value: "Create" %></button>
            </div>
          <% end %>
        </div>
        <%# <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save</button>
        </div> %>
      </div>
    </div>
  </div>


  <!-- MODAL EDIT -->
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#editProject">
    Edit Project
  </button>
  <!-- Modal -->
  <div class="modal fade" id="editProject" tabindex="-1" role="dialog" aria-labelledby="editProjectTitle" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="editProjectTitle">Edit Project</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <%= simple_form_for([@project]) do |f| %>
            <div class="form-edit-project" style="width:325px;">
              <%= f.label :title, "Title" %>
              <%= f.input :title, placeholder: @project.title %>
            </div>
            <div class="form-edit-project" style="width:325px;">
              <%= f.label :description, "Description" %>
              <%= f.input :description, placeholder: @project.description %>
            </div>
            <div class="button-new">
              <button type="button" class="btn btn-warning"><%= f.button :submit, name: "subaction", value: "update" %></button>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
